#include "affiche_tas.h"
#include <string.h>
#include <stdio.h>

int main(){
 
  tas_init();
  afficher_tas();
  char *p1, *p2, *p3, *p4;
  p1=(char *) tas_malloc(10);
  afficher_tas();
  p2=(char *) tas_malloc(9);
  afficher_tas();
  p3=(char *) tas_malloc(5);

  printf("p1= %s \n", p1);
  printf("libre %d\n", libre);
  strcpy(p1, "tp 1");
    
  strcpy(p2, "tp 2");
  
  strcpy(p3, "tp 3");
  afficher_tas();
  tas_free(p2);
  afficher_tas();
  p4=(char *) tas_malloc(8);
   strcpy(p4, "systeme");

  afficher_tas();
  tas_free(p2);
  afficher_tas();
  tas_free(p3);
  afficher_tas();
  printf("libre %d\n", libre);
  return 0;
}
/*
trace d'éxecution

 0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
 127  -1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

11 libre à la fin de malloc
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10   0   0   0   0   0   0   0   0   0   0 116  -1   0   0   0
                                               t                

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

21 libre à la fin de malloc
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10   0   0   0   0   0   0   0   0   0   0   9   0   0   0   0
                                                                

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0 106  -1   0   0   0   0   0   0   0   0   0
                       j                                        

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

27 libre à la fin de malloc
p1=  
libre 27
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10 116 112  32  49   0   0   0   0   0   0   9 116 112  32  50
       t   p       1                               t   p       2

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   5 116 112  32  51   0 100  -1   0   0   0
                           t   p       3       d                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

11 libre à la fin de tas_free
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10 116 112  32  49   0   0   0   0   0   0   9  27   0   0   0
       t   p       1                                            

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   5 116 112  32  51   0 100  -1   0   0   0
                           t   p       3       d                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

27 libre à la fin de malloc
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10 116 112  32  49   0   0   0   0   0   0   8 115 121 115 116
       t   p       1                               s   y   s   t

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
 101 109 101   0   0   5 116 112  32  51   0 100  -1   0   0   0
   e   m   e               t   p       3       d                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

11 libre à la fin de tas_free
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10 116 112  32  49   0   0   0   0   0   0   8  27   0   0   0
       t   p       1                                            

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   5 116 112  32  51   0 100  -1   0   0   0
                           t   p       3       d                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

11 libre à la fin de tas_free
   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15
  10 116 112  32  49   0   0   0   0   0   0   8  21   0   0   0
       t   p       1                                            

  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31
   0   0   0   0   0   5  27   0   0   0   0 100  -1   0   0   0
                                               d                

  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                                                                

---------------------------------------------------------------

libre 11


 */
